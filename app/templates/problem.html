{% extends 'default.html' %}

{% block content %}
<h2>問題文</h2>
<br>
<h3>{{ problem }}</h3>
<p id="ahi" style="visibility:hidden">{{ temp_ans }}</p>

<script id=hoge>
  var temp_ans = document.getElementById("ahi").textContent
  console.log(temp_ans);

  var code = "";
  var editor = CodeMirror(document.body, {
    value: temp_ans,
    lineNumbers: true,
    theme: 'monokai custom',
    mode: 'python'
  }).on('change', after_editor => {
    code = after_editor.getValue();
    var val = document.getElementById('form');
    val.value = code;
    console.log(val)
  });
</script>

<form method="POST">
  <input type="hidden" id="form" name="code" value="">	
  <!-- エディタの中身をとってくる。 -->
  <!-- ボタンを押したら、request.form[code]つまり、エディタの中身が返される。 -->
  <input class="btn btn-primary" type="submit" value='提出'>
</form>

<form action="/" method="get">
  <input class="btn btn-danger" type="submit" value='戻る'>
</form>


<audio id="type" src="../static/music/cat_like2a.mp3" type="audio/meg"></audio>
  
<script>
  const audioType = document.getElementById("type");
  window.onkeydown = function(e){
    audioType.play();
  };
</script>

{% endblock %}
